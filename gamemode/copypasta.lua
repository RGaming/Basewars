local CfgVars = { }


CfgVars["supplytablecost"] = 750 --temporary, I have no idea how much supply
				 --are supposed to cost and this list needs a
				 --serious make over anyway ~~NickG
CfgVars["warrantcost"] = 50
CfgVars["jeepcost"] = 500
CfgVars["armorcost"] = 700
CfgVars["steroidcost"] = 1000
CfgVars["magicbulletcost"] = 1500
CfgVars["allowturrets"] = 1
CfgVars["allowsteroids"] = 1
CfgVars["allowjeeps"] = 1
CfgVars["hltvproxywashere"] = 1
CfgVars["allowhelmet"] = 1
CfgVars["qetcost"] = 100
CfgVars["turretcost"] = 1000
CfgVars["turretmax"] = 4
CfgVars["airboatcost"] = 400
CfgVars["allowairboats"] = 1
CfgVars["allowdispensers"] = 1
CfgVars["dispensercost"] = 400
CfgVars["dispensermax"] = 2
CfgVars["spawncost"] = 150
CfgVars["allowspawn"] = 1
CfgVars["allowregen"] = 1
CfgVars["regencost"] = 1000
CfgVars["allowshield"] = 1
CfgVars["shieldcost"] = 500
CfgVars["ampcost"] = 2000
CfgVars["allowamp"] = 1
CfgVars["painkillercost"] = 2000
CfgVars["allowpainkiller"] = 1
CfgVars["knifecost"] = 150
CfgVars["lockpickcost"] = 150
CfgVars["weldercost"] = 750
CfgVars["allowwelder"] = 1
CfgVars["maxprinters"] = 1
CfgVars["bigbombcost"] = 100000
CfgVars["gasgrenadecost"] = 400
CfgVars["molotovcost"] = 400
CfgVars["maxstills"] = 10
CfgVars["stillcost"] = 1000
CfgVars["metlabstable"] = 25000
CfgVars["rpgcost"] = 5000
CfgVars["galilcost"] = 3000
CfgVars["ammorocketcost"] = 50
CfgVars["ammosnipercost"] = 60
CfgVars["ammodartcost"] = 50
CfgVars["ammofuelcost"] = 70

CfgVars["bronzeprintercost"] = 1500
CfgVars["silverprintercost"] = 20000
CfgVars["goldprintercost"] = 150000
CfgVars["platinumprintercost"] = 750000
CfgVars["diamondprintercost"] = 1500000
CfgVars["nukeprintercost"] = 100000000

CfgVars["paracost"] = 5000
CfgVars["autosnipecost"] = 3500
CfgVars["augcost"] = 2000
CfgVars["autoshotguncost"] = 2500
CfgVars["uspcost"] = 220
CfgVars["mac10pistcost"] = 420
CfgVars["tmppistcost"] = 530
CfgVars["elitescost"] = 350
CfgVars["maxhitman"] = 3
CfgVars["maxspec"] = 4
CfgVars["gunvaultcost"] = 300
CfgVars["gunfactorycost"] = 1000
CfgVars["maxgunfactory"] = 2
CfgVars["maxgunvaults"] = 5
CfgVars["pillboxcost"] = 300
CfgVars["allowreflect"] = 1
CfgVars["reflectcost"] = 2000
CfgVars["drugfactorycost"] = 500
CfgVars["maxdrugfactory"] = 2
CfgVars["worldslayercost"] = 2500
CfgVars["allowfocus"] = 1
CfgVars["focuscost"] = 300
CfgVars["scannercost"] = 250
CfgVars["allowantidote"] = 1
CfgVars["antidotecost"] = 1000
CfgVars["generatorcost"] = 400
CfgVars["shockwavecost"] = 400
CfgVars["doubletapcost"] = 600
CfgVars["knockbackcost"] = 400
CfgVars["magicbulletcost"] = 400
CfgVars["leechcost"] = 400
CfgVars["adrenalinecost"] = 700
CfgVars["doublejumpcost"] = 400
CfgVars["radartowercost"] = 400
CfgVars["armorpiercercost"] = 400
CfgVars["maxgenerator"] = 5
CfgVars["maxsupergenerator"] = 2
CfgVars["maxmethlab"] = 3
CfgVars["maxstablemethlab"] = 3
CfgVars["methlabcost"] = 1000
CfgVars["toolkitcost"] = 100
CfgVars["steroidduration"] = 140
CfgVars["regenduration"] = 100
CfgVars["ampduration"] = 100
CfgVars["painkillerduration"] = 60
CfgVars["reflectduration"] = 60
CfgVars["focusduration"] = 60
CfgVars["antidoteduration"] = 100
CfgVars["magicbulletduration"] = 60
CfgVars["leechduration"] = 100
CfgVars["doubletapduration"] = 100
CfgVars["shockwaveduration"] = 60
CfgVars["doublejumpduration"] = 250
CfgVars["knockbackduration"] = 110
CfgVars["adrenalineduration"] = 130
CfgVars["armorpiercerduration"] = 60
CfgVars["randomduration"] = 100
CfgVars["superduration"] = 100
CfgVars["uberduration"] = 200
CfgVars["scancost"]=25
CfgVars["maxsigns"]=2
CfgVars["flamethrowercost"]=2100
CfgVars["tmpcost"]=1200
CfgVars["maxbronzeprinters"]=6
CfgVars["maxsilverprinters"]=4
CfgVars["maxwashingmachines"]=1
CfgVars["maxgoldprinters"]=2
CfgVars["maxplatinumprinters"]=2
CfgVars["maxdiamondprinters"]=1
CfgVars["maxnuclearprinters"]=1
CfgVars["bigbombmax"]=4
CfgVars["maxadminprinters"]=1
CfgVars["maxdonatorprinters"]=2

CfgVars["crosshair"] = 1; --Crosshairs enabled?
CfgVars["strictsuicide"] = 0;
CfgVars["adminsents"] = 1; --Should all SENTs be admin only?
CfgVars["adminsweps"] = 1; --Should all sweps be admin only?

CfgVars["ak47cost"] = 2000
CfgVars["mp5cost"] = 1600
CfgVars["m16cost"] = 1400
CfgVars["mac10cost"] = 1100
CfgVars["umpcost"] = 1300
CfgVars["shotguncost"] = 1500
CfgVars["snipercost"] = 2200
CfgVars["flashbangcost"] = 250
CfgVars["grenadecost"] = 300
CfgVars["deaglecost"] = 210
CfgVars["fivesevencost"] = 230
CfgVars["glockcost"] = 220
CfgVars["p228cost"] = 200
CfgVars["druglabcost"] = 1000
CfgVars["gunlabcost"] = 600
CfgVars["drugpayamount"] = 25
CfgVars["ammopistolcost"] = 20
CfgVars["ammoriflecost"] = 40
CfgVars["ammoshotguncost"] = 60
CfgVars["healthcost"] = 250
CfgVars["jailtimer"] = 40
CfgVars["whisperradius"] = 90
CfgVars["talkradius"] = 250
CfgVars["yellradius"] = 550
CfgVars["doorcost"] = 30
CfgVars["zombiescore"] = 10
CfgVars["microwavefoodcost"] = 40
CfgVars["maxdruglabs"] = 5
CfgVars["maxmicrowaves"] = 2
CfgVars["maxgunlabs"] = 2
CfgVars["allowgang"] = 1
CfgVars["maxgangsters"] = 6
CfgVars["allowmedics"] = 1
CfgVars["maxmedics"] = 6
CfgVars["allowdealers"] = 1
CfgVars["maxgundealers"] = 4
CfgVars["allowcooks"] = 1
CfgVars["allowvuvu"] = 1
CfgVars["maxcooks"] = 4
CfgVars["maxvuvu"] = 100
CfgVars["maxlamp"] = 3
CfgVars["maxow"] = 5

CfgVars["EquipmentDecayTimer"] = 3
CfgVars["WeaponDecayTimer"] = 3
CfgVars["DrugDecayTimer"] = 3

local buytable = {}
buytable["Weapons - HandGuns"] = {}
buytable["Weapons - HandGuns"].Names = {"P228","Deagle","Glock","FiveSeven","USP","Elites","Mac-10","TMP"}
buytable["Weapons - HandGuns"].Cost = {CfgVars["p228cost"],CfgVars["deaglecost"],CfgVars["glockcost"],CfgVars["fivesevencost"],CfgVars["uspcost"],CfgVars["elitescost"],CfgVars["mac10pistcost"],CfgVars["tmppistcost"]}
buytable["Weapons - HandGuns"].Data = {"p228","deagle","glock","fiveseven","usp","elites","mac10","tmp"}
buytable["Weapons - HandGuns"].Cmd = "buypistol"
buytable["Weapons - HandGuns"].Model = {"models/weapons/w_pist_p228.mdl", "models/weapons/w_pist_deagle.mdl", "models/weapons/w_pist_glock18.mdl", "models/weapons/w_pist_fiveseven.mdl", "models/weapons/w_pist_usp.mdl", "models/weapons/w_pist_elite_dropped.mdl", "models/weapons/w_smg_mac10.mdl", "models/weapons/w_smg_tmp.mdl"}

buytable["Weapons - General"] = {}
buytable["Weapons - General"].Names = {"Mac-10","TMP","UMP45","M4A1","Shotgun","MP5","Galil","AUG","AK-47","Flamethrower","Sniper","Auto-Shotgun","Auto-Sniper"}
buytable["Weapons - General"].Cost = {CfgVars["mac10cost"],CfgVars["tmpcost"],CfgVars["umpcost"],CfgVars["m16cost"],CfgVars["shotguncost"],CfgVars["mp5cost"],CfgVars["galilcost"],CfgVars["augcost"],CfgVars["ak47cost"],CfgVars["flamethrowercost"],CfgVars["snipercost"],CfgVars["autoshotguncost"],CfgVars["autosnipecost"]}
buytable["Weapons - General"].Data = {"mac10","tmp","ump","m4","shotgun","mp5","galil","aug","ak47","flamethrower","sniper","autoshotgun","g3"}
buytable["Weapons - General"].Cmd = "buyshipment"
buytable["Weapons - General"].CmdTwo = "buyweapon"
buytable["Weapons - General"].Model = {"models/weapons/w_smg_mac10.mdl", "models/weapons/w_smg_tmp.mdl", "models/weapons/w_smg_ump45.mdl", "models/weapons/w_rif_m4a1.mdl", "models/weapons/w_shot_m3super90.mdl", "models/weapons/w_smg_mp5.mdl", "models/weapons/w_rif_galil.mdl", "models/weapons/w_rif_aug.mdl", "models/weapons/w_rif_ak47.mdl", "models/Weapons/w_smg1.mdl", "models/weapons/w_snip_awp.mdl", "models/weapons/w_shot_xm1014.mdl", "models/weapons/w_snip_g3sg1.mdl"}

buytable["Weapons - Grenades"] = {}
buytable["Weapons - Grenades"].Names = {"Grenade","Stun Grenade","Gas Grenade","Sticky Grenades","Door Charges","C4 Explosive"}
buytable["Weapons - Grenades"].Cost = {CfgVars["grenadecost"],CfgVars["flashbangcost"],CfgVars["gasgrenadecost"],2000,500,10000}
buytable["Weapons - Grenades"].Data = {"grenade","stun","gas","sticky","doorcharge","c4"}
buytable["Weapons - Grenades"].Cmd = "buyweapon"
buytable["Weapons - Grenades"].Model = {"models/weapons/w_eq_fraggrenade_thrown.mdl", "models/weapons/w_eq_smokegrenade_thrown.mdl", "models/weapons/w_eq_smokegrenade.mdl","models/magnusson_device.mdl","models/weapons/w_slam.mdl","models/weapons/w_c4_planted.mdl"}

buytable["Ammo"] = {}
buytable["Ammo"].Names = {"Buy Ammo"}
buytable["Ammo"].Cost = {100}
buytable["Ammo"].Data = {"currentammo"}
buytable["Ammo"].Cmd = "buyammo"
buytable["Ammo"].Model = {"models/Items/357ammobox.mdl", "models/Items/BoxSRounds.mdl", "models/Items/BoxBuckshot.mdl","models/weapons/w_snip_awp.mdl","models/Weapons/W_missile_closed.mdl", "models/Items/CrossbowRounds.mdl", "models/props_junk/gascan001a.mdl"}

buytable["Drugs"] = {}
buytable["Drugs"].Names = {"Regeneration","Pain Killers","Antidote","Reflect","Adrenaline","Steroids","Double Jump","Leech","Amplifier","Armor Piercer","Magicbullet","Shockwave","Knockback","Doubletap","Focus"}
buytable["Drugs"].Cost = {700,500,400,600,400,600,400,400,600,400,300,600,400,750,300}
buytable["Drugs"].Data = {"regen","painkiller","antidote","reflect","adrenaline","steroid","doublejump","leech","amplifier","armorpiercer","magicbullet","shockwave","knockback","doubletap","focus"}
buytable["Drugs"].Cmd = "buydrug"
buytable["Drugs"].CmdTwo = "buybatchdrug"
buytable["Drugs"].Model = {""}

buytable["Equipment"] = {}
buytable["Equipment"].Names = {"Medkit","Snipe Shield","Helmet","Scan Blocker","Tool Kit","Armor"}
buytable["Equipment"].Cost = {CfgVars["healthcost"],CfgVars["shieldcost"],500,CfgVars["scannercost"],CfgVars["toolkitcost"],CfgVars["armorcost"]}
buytable["Equipment"].Data = {"health","shield","helmet","scanner","toolkit","armor"}
buytable["Equipment"].Cmd = "buydrug"
buytable["Equipment"].Model = {"models/items/healthkit.mdl", "models/items/car_battery01.mdl", "models/props/de_tides/vending_hat.mdl",  "models/props_lab/monitor01b.mdl", "models/props_c17/tools_pliers01a.mdl", "models/props_c17/utilityconducter001.mdl"}

--buytable["Structures - General"] = {}
--buytable["Structures - General"].Names = {"Sentry Gun", "Spawn Point","Dispenser","Microwave","Radar Tower","Drug Refinery","Gun Lab","Gun Factory","Plant","Still","Drug Lab","Meth Lab","Printer","Generator"}
--buytable["Structures - General"].Cost = {300,150,400,400,500,500,600,1000,50,250,600,600,1250,400}
--buytable["Structures - General"].Data = {"sentry","spawn","dispenser","microwave","radar","refinery","gunlab","factory","plant","still","druglab","methlab","printer","generator"}
--buytable["Structures - General"].Cmd = "buystruct"
--buytable["Structures - General"].Model = {"models/props_c17/TrapPropeller_Engine.mdl", "models/props_trainstation/trainstation_clock001.mdl", "models/props_lab/reciever_cart.mdl" , "models/props/cs_office/microwave.mdl", "models/props_rooftop/roof_dish001.mdl", "models/props_c17/furniturestove001a.mdl", "models/props_c17/furnitureboiler001a.mdl", "models/props/de_prodigy/transformer.mdl", "models/props/cs_office/plant01.mdl", "models/props/de_inferno/wine_barrel.mdl", "models/props_combine/combine_mine01.mdl", "models/props/de_train/processor_nobase.mdl", "models/props_wasteland/laundry_washer003.mdl", "models/props_vehicles/generatortrailer01.mdl"}

buytable["Structures - Base"] = {}
buytable["Structures - Base"].Names = {"Sentry Gun", "Spawn Point","Dispenser","Radar Tower","Drug Refinery","Gun Factory","Generator","Super Generator","Money Vault","Supply Table"}
buytable["Structures - Base"].Cost = {CfgVars["turretcost"],150,400,500,500,1000,400,2500,500,1000}
buytable["Structures - Base"].Data = {"sentry","spawn","dispenser","radar","refinery","factory","generator","supergenerator","moneyvault","supplycabinet"}
buytable["Structures - Base"].Cmd = "buystruct"
buytable["Structures - Base"].Model = {"models/props_c17/TrapPropeller_Engine.mdl", "models/props_trainstation/trainstation_clock001.mdl", "models/props_lab/reciever_cart.mdl" , "models/props_rooftop/roof_dish001.mdl", "models/props_c17/furniturestove001a.mdl", "models/props/de_prodigy/transformer.mdl", "models/props_vehicles/generatortrailer01.mdl","models/props_mining/diesel_generator.mdl","models/props_lab/powerbox01a.mdl","models/props/CS_militia/table_shed.mdl"}

buytable["Structures - Profitable"] = {}
buytable["Structures - Profitable"].Names = {"Still","Drug Lab","Meth Lab","Stable Meth Lab","Bronze Money Printer","Silver Money Printer","Gold Money Printer","Platinum Money Printer","Diamond Money Printer","Nuclear Money Printer"}
buytable["Structures - Profitable"].Cost = {CfgVars["stillcost"],CfgVars["druglabcost"],CfgVars["methlabcost"],CfgVars["metlabstable"],CfgVars["bronzeprintercost"],CfgVars["silverprintercost"],CfgVars["goldprintercost"],CfgVars["platinumprintercost"],CfgVars["diamondprintercost"],CfgVars["nukeprintercost"]}
buytable["Structures - Profitable"].Data = {"still","druglab","methlab","stablemethlab","bronzeprinter","silverprinter","goldprinter","platinumprinter","diamondprinter","nuclearprinter"}
buytable["Structures - Profitable"].Cmd = "buystruct"
buytable["Structures - Profitable"].Model = {"models/props/de_inferno/wine_barrel.mdl", "models/props_combine/combine_mine01.mdl", "models/props/de_train/processor_nobase.mdl", "models/props_silo/processor.mdl", "models/props_lab/reciever01b.mdl", "models/props_c17/consolebox03a.mdl","models/props_lab/reciever01a.mdl", "models/props_c17/consolebox01a.mdl","models/props_lab/citizenradio.mdl","models/props/de_train/Barrel.mdl"}

buytable["Other Stuff"] = {}
buytable["Other Stuff"].Names = {"Knife","Lockpick","Blowtorch","BIG BOMB","Gun Vault","Pill Box","Fuel Tank"}
buytable["Other Stuff"].Cost = {150,150,750,CfgVars["bigbombcost"],400,400,500}
buytable["Other Stuff"].Data = {"knife","lockpick","welder","bigbomb","gunvault","pillbox","fueltank"}
buytable["Other Stuff"].Cmd = "buyspecial"
buytable["Other Stuff"].Model = {"models/weapons/w_knife_t.mdl", "models/weapons/w_crowbar.mdl", "models/weapons/w_IRifle.mdl", "models/props_c17/oildrum001_explosive.mdl", "models/props_forest/footlocker01_closed.mdl" ,"models/props_c17/furniturefridge001a.mdl","models/props_junk/gascan001a.mdl"}

--buytable["Classes"] = {}
--buytable["Classes"].Names = {"Citizen","Cop","OverWatch","Spec Ops","Mayor","Gangster","Hitman","Mob Boss","Gun Dealer","Pharmacist","Cook",}
--buytable["Classes"].Cost = {0,0,0,0,0,0,0,0,0,0,0,0}
--buytable["Classes"].Data = {"/citizen","/cp","/voteow","/votespecops","/votemayor","/gangster","/votehitman","/mobboss", "/gundealer","/medic","/cook"}
--buytable["Classes"].Cmd = "say"
--buytable["Classes"].Model = {"models/mossman.mdl", "models/Police.mdl", "models/Combine_Soldier_PrisonGuard.mdl", "models/Combine_Super_Soldier.mdl", "models/breen.mdl", "models/Eli.mdl", "models/Barney.mdl", "models/gman_high.mdl", "models/monk.mdl", "models/Kleiner.mdl", "models/mossman.mdl", "models/mossman.mdl"}
local PANEL = {}

/*---------------------------------------------------------
   Name: init
---------------------------------------------------------*/
function PANEL:Init()	
	self:SetSize( 83, 83 )
	self.Label = vgui.Create ( "DLabel", self )
	self:SetKeepAspect( true )
	self:SetDrawBorder( true )
	self.m_Image:SetPaintedManually( true )
end

local PANEL = {}

/*---------------------------------------------------------
   Name: Init
---------------------------------------------------------*/
function PANEL:Init()
	self.PanelList = vgui.Create( "DPanelList", self )	
		self.PanelList:SetPadding( 4 )
		self.PanelList:SetSpacing( 2 )
		self.PanelList:EnableVerticalScrollbar( true )	
	self:BuildList()
end

/*---------------------------------------------------------
   Name: BuildList
---------------------------------------------------------*/

	local function AddComma(n)
		local sn = tostring(n)
		sn = string.ToTable(sn)
		
		local tab = {}
		for i=0,#sn-1 do
			
			if i%3 == #sn%3 and !(i==0) then
				table.insert(tab, ",")
			end
			table.insert(tab, sn[i+1])
		
		end
		
		return string.Implode("",tab)
	end
	
function PANEL:BuildList()
	self.PanelList:Clear()
	
	local Categorised = {}
	// Build into categories
	for k, v in pairs( buytable ) do
		v.Category = k
		Categorised[ v.Category ] = Categorised[ v.Category ] or {}
		table.insert( Categorised[ v.Category ], v )
	
	end
	
	// Loop through each category
	for CategoryName, v in SortedPairs( Categorised ) do
	
		local Category = vgui.Create( "DCollapsibleCategory", self )
		self.PanelList:AddItem( Category )
		Category:SetExpanded(false)
		Category:SetLabel( CategoryName )
		Category:SetCookieName( "EntitySpawn."..CategoryName )
		
		local Content = vgui.Create( "DPanelList" )
		Category:SetContents( Content )
		Content:EnableHorizontal( true )
		Content:SetDrawBackground( false )
		Content:SetSpacing( 2 )
		Content:SetPadding( 2 )
		Content:SetAutoSize( true )
		
		number=1
		//this is annoying code, i only wrote it to expriment with and then decided to use it and didnt feel like making it pretty.
		for k,v in pairs( buytable[ CategoryName ].Data ) do
				if(CategoryName != "Drugs") then
					local cmd = buytable[ CategoryName ].Cmd
					local cmdtwo = buytable[ CategoryName ].CmdTwo
					local data = buytable[ CategoryName ].Data[ number ]
					local name = buytable[ CategoryName ].Names[ number ]
					local Icon = vgui.Create( "SpawnIcon", self)
					
					if(buytable[ CategoryName ].Model[ number ] !=nil) then
						Icon:SetModel( buytable[ CategoryName ].Model[ number ] )
					else
						Icon:SetModel( "models/error.mdl" )
					end
					
						if(CategoryName == "Weapons - General") then-- or (CategoryName == "Weapons - HandGuns") then
					Icon:SetToolTip( " Item: " .. buytable[ CategoryName ].Names[ number ] .. "\n  Single Weapon Cost: $" .. AddComma(buytable[ CategoryName ].Cost[ number ]*.5) .. "\n Weapon Shipment Cost: $" .. AddComma(buytable[ CategoryName ].Cost[ number ]*1.5) )
						else
					Icon:SetToolTip( " Item: " .. buytable[ CategoryName ].Names[ number ] .. "\n Cost: $" .. AddComma(buytable[ CategoryName ].Cost[ number ] ))
						end
						
					Icon.DoClick = function() 
						if(CategoryName == "Weapons - General") then-- or (CategoryName == "Weapons - HandGuns") then
								local menu1 = DermaMenu()
								menu1:AddOption("Buy Single Weapon", function() RunConsoleCommand( cmdtwo, data ) surface.PlaySound( "chaching.mp3" ) end)
								menu1:AddOption("Buy Shipment", function() RunConsoleCommand( cmd, data ) surface.PlaySound( "chaching.mp3" ) end)
								menu1:Open()

						else
							surface.PlaySound( "chaching.mp3" )
							RunConsoleCommand( cmd, data )
						end
					end
					
					local lable  = vgui.Create("DLabel", Icon)
					lable:SetFont( "DefaultSmallDropShadow" )
					lable:SetTextColor( color_white )
					lable:SetText(name)
					lable:SetContentAlignment( 5 )
					lable:SetWide( self:GetWide() )
					lable:AlignBottom( -42 )
			
					Content:AddItem( Icon )
					
				else
				
					local cmd = buytable[ CategoryName ].Cmd
					local cmdtwo = buytable[ CategoryName ].CmdTwo
					local data = buytable[ CategoryName ].Data[ number ]
					local name = buytable[ CategoryName ].Names[ number ]
					local Icon = vgui.Create( "SpawnIcon", self)
					Icon:SetModel( "models/combine_apc_destroyed_gib06.mdl" )
					Icon:SetToolTip( " Item: " .. buytable[ CategoryName ].Names[ number ] .. "\n Normal Cost: $" .. AddComma(buytable[ CategoryName ].Cost[ number ]) .. "\n Batch Cost: $" .. AddComma(buytable[ CategoryName ].Cost[ number ]*4) )
					

					
					Icon.DoClick = function() 
								local menu1 = DermaMenu()
								menu1:AddOption("Buy Single Drug", function() RunConsoleCommand( cmd, data ) surface.PlaySound( "chaching.mp3" ) end)
								menu1:AddOption("Buy Batch of Drugs", function() RunConsoleCommand( cmdtwo, data ) surface.PlaySound( "chaching.mp3" ) end)
								menu1:Open()
					end
					
					local drugs = vgui.Create("DLabel", Icon)
					drugs:SetText(drugtable[ data ].symbol)
					drugs:SetFont(drugtable[ data ].font)
					drugs:SetColor(drugtable[ data ].color)
					
					if(drugtable[ data ].font == "DrugFont2") then 
						drugs:SetPos(23, 3)
					else
						drugs:SetPos(23, 25)
					end
					drugs:SizeToContents()
					
					local lable  = vgui.Create("DLabel", Icon)
					lable:SetFont( "DefaultSmall" )
					lable:SetTextColor( drugtable[ data ].color )
					lable:SetText(name)
					lable:SetContentAlignment( 5 )
					lable:SetWide( self:GetWide() )
					lable:AlignBottom( -42 )
	
					Content:AddItem( Icon )
				end
				number = number+1
		end
	end
	self.PanelList:InvalidateLayout()
end

/*---------------------------------------------------------
   Name: PerformLayout
---------------------------------------------------------*/
function PANEL:PerformLayout()
	self.PanelList:StretchToParent( 0, 0, 0, 0 )
end

local CreationSheet = vgui.RegisterTable( PANEL, "Panel" )

local function CreateContentPanel()
	local ctrl = vgui.CreateFromTable( CreationSheet )
	return ctrl
end

/*---------------------------------------------------------
   Name: BunkMenu = this clears the menuns we dont need, but are part of sandbox.
---------------------------------------------------------*/
local function BunkMenu()
	return
end

--if not LocalPlayer():IsSuperAdmin() then
spawnmenu.AddCreationTab( "Entities", BunkMenu, "", 50 )
--end

--if not LocalPlayer():IsSuperAdmin() then
spawnmenu.AddCreationTab( "Vehicles", BunkMenu, "", 50 )
--end

--if not LocalPlayer():IsSuperAdmin() then
spawnmenu.AddCreationTab( "NPCs", BunkMenu, "", 50 )
--end

--if not LocalPlayer():IsSuperAdmin() then
spawnmenu.AddCreationTab( "Weapons", BunkMenu, "", 50 )
--end

spawnmenu.AddCreationTab( "Base War Buy Menu", CreateContentPanel, "gui/silkicons/brick_add", 50 )
